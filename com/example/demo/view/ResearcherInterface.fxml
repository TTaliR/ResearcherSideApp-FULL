<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<StackPane prefHeight="800" prefWidth="1200" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.demo.controller.ResearcherController">

	<ScrollPane fitToHeight="true" fitToWidth="true" style="-fx-background-color: transparent;" HBox.hgrow="ALWAYS" VBox.vgrow="ALWAYS">

		<VBox style="-fx-background-color: #f5f5f5;" HBox.hgrow="ALWAYS" VBox.vgrow="ALWAYS">

			<!-- Header -->
			<HBox spacing="10" style="-fx-background-color: #2c3e50; -fx-padding: 15;">
				<Button fx:id="chatButton" onAction="#goToChatBot" style="-fx-background-color: transparent; -fx-padding: 0; -fx-cursor: hand;">
					<graphic>
						<ImageView fitHeight="41.0" fitWidth="53.0" preserveRatio="true">
							<image>
								<Image url="@/com/example/demo/images/sun.png" />
							</image>
						</ImageView>
					</graphic>
				</Button>
				<Button fx:id="imageButton" onAction="#goToVisPage" style="-fx-background-color: transparent; -fx-padding: 0; -fx-cursor: hand;">
					<graphic>
						<ImageView fitHeight="41.0" fitWidth="53.0" preserveRatio="true">
							<image>
								<Image url="@/com/example/demo/images/data-vis.png" />
							</image>
						</ImageView>
					</graphic>
				</Button>


				<Label style="-fx-text-fill: white; -fx-font-size: 24;" text="Celestial Research Configuration Panel" />
			</HBox>

			<!-- Main Content -->
			<HBox spacing="20" style="-fx-padding: 20;" VBox.vgrow="ALWAYS">



				<!-- Left Panel - Configuration Settings -->
				<VBox minWidth="320" prefHeight="708.0" prefWidth="730.0" spacing="15" style="-fx-background-color: white; -fx-padding: 20;                        -fx-background-radius: 5;">
					<Label style="-fx-font-size: 18; -fx-font-weight: bold;" text="Configuration Settings" />
					<VBox maxHeight="-Infinity" prefHeight="0.0" prefWidth="373.0" spacing="10" style="-fx-background-color: #f8f9fa; -fx-padding: 15; -fx-background-radius: 5;">
						<Label style="-fx-font-size: 16; -fx-font-weight: bold;" text="Heart Rate Mappings" />

						<!-- Container to hold dynamic heart rate mappings -->
						<VBox fx:id="heartRateMappingsBox" spacing="10">
							<!-- Mappings will be added dynamically here -->
						</VBox>


						<!-- Add More Mapping Button -->
						<Button fx:id="addHeartRateMappingButton" onAction="#addHeartRateMappingInput" style="-fx-background-color: #007bff; -fx-text-fill: white;" text="➕ Add More Mapping" />
						<HBox maxWidth="-Infinity" prefHeight="25.0" prefWidth="645.0" />
					</VBox>

					<!-- Sun Position Section -->
					<VBox maxHeight="-Infinity" prefHeight="135.0" prefWidth="653.0" spacing="10" style="-fx-background-color: #f8f9fa; -fx-padding: 15;                            -fx-background-radius: 5;">
						<Label style="-fx-font-size: 16; -fx-font-weight: bold;" text="Sun Position Mappings" />

						<!-- Sun Azimuth Ranges -->
						<VBox fx:id="sunAzimuthRangesBox" spacing="10">
							<!-- Dynamic ranges will be added here -->
						</VBox>
						<Button onAction="#addSunAzimuthRange" style="-fx-background-color: #007bff; -fx-text-fill: white;" text="➕ Add More Mapping" />
						<HBox prefHeight="0.0" prefWidth="330.0">
							<VBox.margin>
								<Insets />
							</VBox.margin>
						</HBox>
					</VBox>
               <VBox maxHeight="-Infinity" prefHeight="135.0" prefWidth="653.0" spacing="10" style="-fx-background-color: #f8f9fa; -fx-padding: 15;                            -fx-background-radius: 5;">
                  <children>
                     <Label style="-fx-font-size: 16; -fx-font-weight: bold;" text="Moon Position Mappings" />
                     <VBox fx:id="moonAzimuthRangesBox" spacing="10" />
                     <Button onAction="#addMoonAzimuthRange" style="-fx-background-color: #007bff; -fx-text-fill: white;" text="➕ Add More Mapping" />
                     <HBox prefHeight="0.0" prefWidth="330.0">
                        <VBox.margin>
                           <Insets />
                        </VBox.margin>
                     </HBox>
                  </children>
               </VBox>

					<!-- Sunrise/Sunset Section -->
					<VBox spacing="10" style="-fx-background-color: #f8f9fa; -fx-padding: 15;                            -fx-background-radius: 5;" visible="false">
						<CheckBox fx:id="sunriseToggle" text="Sunrise" />
						<TextField fx:id="sunriseThreshold" promptText="Sunrise Threshold" />
						<CheckBox fx:id="sunsetToggle" text="Sunset" />
						<TextField fx:id="sunsetThreshold" promptText="Sunset Threshold" />
					</VBox>

					<!-- Buttons Section -->
					<HBox alignment="CENTER_RIGHT" spacing="10">
						<VBox.margin>
							<Insets top="-60" />
						</VBox.margin>
						<Button onAction="#fetchCurrentConfigurations" style="-fx-background-color: #6c757d; -fx-text-fill: white;" text="Fetch Current" />
						<Button onAction="#saveConfigurationsToBackend" style="-fx-background-color: #007bff; -fx-text-fill: white;" text="Save Changes" />
					</HBox>

				</VBox>
				<VBox maxHeight="-Infinity" maxWidth="-Infinity" minWidth="320" prefHeight="199.0" prefWidth="450.0" spacing="15" style="-fx-background-color: white; -fx-padding: 20;                        -fx-background-radius: 5;">
					<children>
						<Label prefHeight="27.0" prefWidth="240.0" style="-fx-font-size: 18; -fx-font-weight: bold;" text="Choose Data Source" />
						<ComboBox fx:id="monitoringComboBox" prefHeight="25.0" prefWidth="169.0" promptText="Select" />
						<HBox prefHeight="62.0" prefWidth="373.0">
							<children>
								<Button fx:id="MonitorSave" onAction="#sendMonitoringType" prefHeight="25.0" prefWidth="68.0" style="-fx-background-color: #28a745; -fx-text-fill: white;" text="Save" />
							</children>
						</HBox>
					</children>
				</VBox>


			</HBox>
		</VBox>
	</ScrollPane>
</StackPane>
